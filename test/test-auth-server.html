<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Meetup</title>
  </head>
  <body>
    <div class="container">
      <input id="code" type="text" placeholder="code">
      <button id="getToken">Get Token</button>
      <p id="result"></p>
    </div>
    <div class="refresh-container">
      <input id="refreshCode" type="text" placeholder="refresh token">
      <button id="refreshToken">Get Refresh Token</button>
      <p id="refreshResult"></p>
    </div>

    <script type="text/javascript">
      const getTokenElement = document.getElementById('getToken');

       getTokenElement.onclick = function() {
         const codeElement = document.getElementById('code');
         const resultElement = document.getElementById('result');
         const codeValue = codeElement.value;

         // get token script
         const lambdaURL =
           'https://dqcf31qq59.execute-api.eu-central-1.amazonaws.com/dev/api/token/' +
           codeValue;

         fetch(lambdaURL)
           .then(function(response) {
             return response.json();
           })
           .then(function(json) {
             resultElement.innerText = JSON.stringify(json);
           });
       };

      const getRefreshElement = document.getElementById('refreshToken')
        getRefreshElement.onclick = function() {
          const refreshCodeElement = document.getElementById('refreshCode');
          const refreshResult = document.getElementById('refreshResult');
          const refreshCodeValue = refreshCodeElement.value;

          const lambdaRefresh = 'https://dqcf31qq59.execute-api.eu-central-1.amazonaws.com/dev/api/refresh/' +
          refreshCodeValue;

          fetch(lambdaRefresh)
            .then(function(response) {
              return response.json();
            })
            .then(function(json) {
              refreshResult.innerText = JSON.stringify(json);
            });
        };
    </script>
  </body>
</html>
